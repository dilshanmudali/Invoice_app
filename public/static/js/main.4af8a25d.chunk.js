(this["webpackJsonpinvoice-app"]=this["webpackJsonpinvoice-app"]||[]).push([[0],{43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(4),r=c(32),a=c.n(r),s=c(16),i=(c(43),c(44),c(45),c(46),c(47),c(48),c(49),c(50),c(51),c(52),c(6)),o=c(9),d=c(5),j=c(8),u=c(24),l=c(1),b=function(e){var t=e.setShowBar,c=e.setUser;return Object(l.jsxs)("header",{children:[Object(l.jsx)("button",{onClick:function(){return t((function(e){return!e}))},children:Object(l.jsx)(u.b,{className:"sidebar_btn"})}),Object(l.jsx)("div",{className:"left-area",children:Object(l.jsxs)("h3",{children:["Store",Object(l.jsx)("span",{children:"Invo"})]})}),Object(l.jsx)("div",{className:"right-area",children:Object(l.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&c(null)}))},className:"logout-btn",children:"Logout"})})]})},h=c(17),m=c(35),O=c(25),p=c(15),x=function(e){var t=e.showbar;return Object(l.jsxs)("div",{className:t?"sidebar":"sidebar hidebar",children:[Object(l.jsxs)(s.b,{to:"/",exact:!0,activeClassName:"is-active",children:[Object(l.jsx)(u.a,{})," ",Object(l.jsx)("span",{children:"Home"})]}),Object(l.jsxs)(s.b,{to:"/category",activeClassName:"is-active",children:[Object(l.jsx)(h.a,{})," ",Object(l.jsx)("span",{children:"Category"})]}),Object(l.jsxs)(s.b,{to:"/products",activeClassName:"is-active",children:[Object(l.jsx)(p.c,{})," ",Object(l.jsx)("span",{children:"Products"})]}),Object(l.jsxs)(s.b,{to:"/customers",activeClassName:"is-active",children:[Object(l.jsx)(m.a,{})," ",Object(l.jsx)("span",{children:"Customers"})]}),Object(l.jsxs)(s.b,{to:"/orders",activeClassName:"is-active",children:[Object(l.jsx)(p.a,{})," ",Object(l.jsx)("span",{children:"Invoice"})]}),Object(l.jsxs)(s.b,{to:"/pdf",activeClassName:"is-active",children:[Object(l.jsx)(O.a,{})," ",Object(l.jsx)("span",{children:"Transactions"})]})]})},f=c(29),v=c(36),g=c(67),N=c(38),y=c(10);y.d.register(y.c,y.i,y.k,y.h,y.o,y.p,y.f);var _=function(e){var t=e.chartData,c=[0,0,0,0,0,0,0];t.forEach((function(e){return c[Object(g.a)(e.created_at).getDay()]+=1}));var n={labels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],datasets:[{data:c,fill:!1,borderColor:"rgb(146 102 235)",tension:.1}]};return Object(l.jsx)("div",{className:"canvas-div",children:Object(l.jsx)(N.a,{data:n,height:400,width:700,options:{scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}},maintainAspectRatio:!1,responsive:!1,elements:{},plugins:{scales:{beginAtZero:!0},legend:{display:!1,labels:{display:!0,font:{size:15}}},title:{display:!0,text:"Weekly Sales",font:{size:15,color:"rgb(146 102 235)"}}}}})})},C=c(23),S=c.n(C),P=function(e){var t=e.totalProd,c=e.totalCustomers,r=e.userId,a=Object(n.useState)(""),s=Object(d.a)(a,2),i=s[0],o=s[1],j=Object(n.useState)(""),u=Object(d.a)(j,2),b=u[0],h=u[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),x=p[0],g=p[1];return Object(n.useEffect)((function(){fetch("/invoices").then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){return!0===e.complete&&e.user_id===r})),c=t.reduce((function(e,t){return e+parseFloat(t.grand_total)}),0);g(t),o(c.toFixed(2)),h(t.length)}))}),[r]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"home-main",children:Object(l.jsxs)("div",{className:"home-card-container",children:[Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("div",{className:"float-left",children:[Object(l.jsxs)("h3",{children:[Object(l.jsx)("span",{className:"currency",children:"$"}),Object(l.jsx)("span",{className:"count",children:Object(l.jsx)(S.a,{start:0,end:i,delay:0,duration:1,decimals:2})})]}),Object(l.jsx)("p",{children:"Revenue"})]}),Object(l.jsx)("div",{className:"float-right",children:Object(l.jsx)("i",{className:"cart",children:Object(l.jsx)(v.a,{})})})]}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("div",{className:"float-left",children:[Object(l.jsxs)("h3",{children:[Object(l.jsx)("span",{className:"currency"}),Object(l.jsx)("span",{className:"count",children:Object(l.jsx)(S.a,{start:0,end:b,delay:0,duration:1})})]}),Object(l.jsx)("p",{children:"Orders"})]}),Object(l.jsx)("div",{className:"float-right",children:Object(l.jsx)("i",{className:"cart",children:Object(l.jsx)(f.b,{})})})]}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("div",{className:"float-left",children:[Object(l.jsxs)("h3",{children:[Object(l.jsx)("span",{className:"currency"}),Object(l.jsx)("span",{className:"count",children:Object(l.jsx)(S.a,{start:0,end:t,delay:0,duration:1})})]}),Object(l.jsx)("p",{children:"Products"})]}),Object(l.jsx)("div",{className:"float-right",children:Object(l.jsx)("i",{className:"cart",children:Object(l.jsx)(f.a,{})})})]}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsxs)("div",{className:"float-left",children:[Object(l.jsxs)("h3",{children:[Object(l.jsx)("span",{className:"currency"}),Object(l.jsx)("span",{className:"count",children:Object(l.jsx)(S.a,{start:0,end:c,delay:0,duration:1})})]}),Object(l.jsx)("p",{children:"Customers"})]}),Object(l.jsx)("div",{className:"float-right",children:Object(l.jsx)("i",{className:"cart",children:Object(l.jsx)(O.b,{})})})]})]})}),Object(l.jsx)(_,{chartData:x})]})},D=c(7),w=function(e){var t=e.cato,c=e.handleDelCategory,n=e.handleEditCat;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.id}),Object(l.jsx)("td",{children:t.category_name}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{onClick:function(e){return n(e,t.id)},children:Object(l.jsx)(h.b,{})}),Object(l.jsx)("button",{onClick:function(){return c(t.id)},children:Object(l.jsx)(p.b,{})})]})]},t.id)},q=c(20),E=c(21),T=function(e){var t=e.cato,c=e.newName,n=e.handleChange,r=e.handleBack;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.id}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"text",name:"category_name",required:!0,placeholder:"Name",value:c.category_name,className:"cat-i",onChange:n})}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{children:Object(l.jsx)(q.a,{})}),Object(l.jsx)("button",{onClick:r,children:Object(l.jsx)(E.a,{})})]})]},t.id)},L=function(e){var t=e.category,c=e.handleDelCategory,r=e.setCategory,a=e.userId,s=Object(n.useState)(null),o=Object(d.a)(s,2),j=o[0],u=o[1],b=Object(n.useState)({user_id:a,category_name:""}),h=Object(d.a)(b,2),m=h[0],O=h[1],p=function(e,t){e.preventDefault(),u(t)},x=function(e){O(Object(i.a)(Object(i.a)({},m),{},Object(D.a)({},e.target.name,e.target.value)))},f=function(){u(null)};return Object(l.jsx)("div",{className:"render-products-container",children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),fetch("/categories/".concat(j),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({category_name:m.category_name})}).then((function(e){return e.json()})).then((function(e){var c=t.map((function(t){return t.id===e.id?e:t}));r(c)})),O({category_name:""}),u(null)},children:Object(l.jsxs)("table",{className:"render-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Category ID"}),Object(l.jsx)("th",{children:"Category Name"}),Object(l.jsx)("th",{children:"Edit/Del"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(n.Fragment,{children:j===e.id?Object(l.jsx)(T,{cato:e,handleChange:x,newName:m,handleBack:f}):Object(l.jsx)(w,{cato:e,handleDelCategory:c,handleEditCat:p})},e.id)}))})]})})})},k=function(e){var t=e.category,c=e.userId,r=e.submitCategory,a=e.handleDelCategory,s=e.setCategory,o=Object(n.useState)({category_name:"",user_id:c}),j=Object(d.a)(o,2),u=j[0],b=j[1];return Object(l.jsxs)("div",{className:"category-container",children:[Object(l.jsx)("div",{className:"category-form-container",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(u),b({category_name:"",user_id:c})},className:"add-category-form",children:[Object(l.jsxs)("label",{className:"custom-field",children:[Object(l.jsx)("input",{type:"text",name:"category_name",autoComplete:"off",required:!0,value:u.category_name,onChange:function(e){b(Object(i.a)(Object(i.a)({},u),{},Object(D.a)({},e.target.name,e.target.value)))}}),Object(l.jsx)("span",{className:"placeholder",children:"Enter Category"})]}),Object(l.jsx)("button",{children:"Add Category"})]})}),Object(l.jsx)("div",{className:"render-category",children:Object(l.jsx)(L,{category:t,setCategory:s,handleDelCategory:a})})]})},I=function(e){var t=e.handleDelcust,c=e.cus,n=e.handleEditCust;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:c.customer_name}),Object(l.jsx)("td",{children:c.customer_email}),Object(l.jsx)("td",{children:c.customer_contact}),Object(l.jsx)("td",{children:c.customer_address}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{onClick:function(e){return n(c.id)},children:Object(l.jsx)(h.b,{})}),Object(l.jsx)("button",{onClick:function(){return t(c.id)},children:Object(l.jsx)(p.b,{})})]})]},c.id)},F=function(e){var t=e.cus,c=e.addCustomer,n=e.handleChange,r=e.handleBack;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"text",name:"customer_name",required:!0,placeholder:"Name",value:c.customer_name,className:"cus-i",onChange:n})}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"email",name:"customer_email",required:!0,placeholder:"Email",value:c.email,className:"cus-i",onChange:n})}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"tel",name:"customer_contact",required:!0,placeholder:"Contact",value:c.cusomer_contact,className:"cus-i",onChange:n})}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"text",name:"customer_address",required:!0,placeholder:"Address",value:c.customer_address,className:"cus-i",onChange:n})}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{children:Object(l.jsx)(q.a,{})}),Object(l.jsx)("button",{onClick:r,children:Object(l.jsx)(E.a,{})})]})]},t.id)},A=function(e){var t=e.customers,c=e.handleDelcust,r=e.setCustomers,a=e.userId,s=Object(n.useState)(null),o=Object(d.a)(s,2),j=o[0],u=o[1],b=function(e){u(e)},h=Object(n.useState)({user_id:a,customer_name:"",customer_contact:"",customer_email:"",customer_address:""}),m=Object(d.a)(h,2),O=m[0],p=m[1],x=function(e){p(Object(i.a)(Object(i.a)({},O),{},Object(D.a)({},e.target.name,e.target.value)))},f=function(){u(null)};return Object(l.jsx)("div",{className:"render-customer-container",children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),fetch("/customers/".concat(j),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({addCustomer:O})}).then((function(e){return e.json()})).then((function(e){var c=t.map((function(t){return t.id===e.id?e:t}));r(c)})),p({customer_name:"",customer_contact:"",customer_email:"",customer_address:""}),u(null)},children:Object(l.jsxs)("table",{className:"render-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Customer Name"}),Object(l.jsx)("th",{children:"Email"}),Object(l.jsx)("th",{children:"Contact"}),Object(l.jsx)("th",{children:"Address"}),Object(l.jsx)("th",{children:"Edit/Del"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(n.Fragment,{children:j===e.id?Object(l.jsx)(F,{cus:e,addCustomer:O,handleChange:x,handleBack:f}):Object(l.jsx)(I,{cus:e,handleDelcust:c,handleEditCust:b})},e.id)}))})]})})})},z=function(e){var t=e.customers,c=e.submitCustomer,r=e.userId,a=e.handleDelcust,s=e.setCustomers,o=Object(n.useState)({user_id:r,customer_name:"",customer_contact:"",customer_email:"",customer_address:""}),j=Object(d.a)(o,2),u=j[0],b=j[1],h=function(e){b(Object(i.a)(Object(i.a)({},u),{},Object(D.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)("div",{className:"customer-container",children:[Object(l.jsx)("div",{className:"customer-form-container",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(u),b({user_id:r,customer_name:"",customer_contact:"",customer_email:"",customer_address:""})},className:"add-customer-form",children:[Object(l.jsxs)("label",{className:"customer-custom-field",children:[Object(l.jsx)("input",{type:"text",name:"customer_name",autoComplete:"off",required:!0,className:"customer-name",value:u.customer_name,onChange:h}),Object(l.jsx)("span",{className:"customer-placeholder",children:"Customer Name"})]}),Object(l.jsxs)("label",{className:"customer-custom-field",children:[Object(l.jsx)("input",{type:"email",name:"customer_email",autoComplete:"off",required:!0,className:"customer-email",value:u.customer_email,onChange:h}),Object(l.jsx)("span",{className:"customer-placeholder",children:"Customer Email"})]}),Object(l.jsx)("label",{className:"customer-custom-field",children:Object(l.jsx)("input",{type:"tel",pattern:"[0-9]{3}[0-9]{3}[0-9]{4}",required:!0,placeholder:"contact",name:"customer_contact",autoComplete:"off",className:"customer-contact",value:u.customer_contact,onChange:h})}),Object(l.jsx)("small",{children:"Format: 1234567890"}),Object(l.jsxs)("div",{className:"customer-address-custom-field",children:[Object(l.jsx)("textarea",{type:"text-area",className:"customer-address",name:"customer_address",autoComplete:"off",required:!0,rows:"4",cols:"20",value:u.customer_address,onChange:h}),Object(l.jsx)("span",{className:"customer-address-placeholder",children:"Address"})]}),Object(l.jsx)("button",{children:"Add Customer"})]})}),Object(l.jsx)("div",{className:"render-customer",children:Object(l.jsx)(A,{customers:t,handleDelcust:a,userId:r,setCustomers:s})})]})},J=function(e){var t=e.prod,c=e.handleDelProd,n=e.handleEditProd;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.id}),Object(l.jsx)("td",{children:t.product_name}),Object(l.jsx)("td",{children:t.product_description}),Object(l.jsxs)("td",{children:["$ ",t.product_price]}),Object(l.jsx)("td",{children:t.product_quantity}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{onClick:function(e){return n(e,t.id)},children:Object(l.jsx)(h.b,{})}),Object(l.jsx)("button",{onClick:function(){return c(t.id)},children:Object(l.jsx)(p.b,{})})]})]},t.id)},Q=function(e){var t=e.prod,c=e.newValues,n=e.handleChange,r=e.handleGoBack;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.id}),Object(l.jsx)("td",{children:t.product_name}),Object(l.jsx)("td",{children:t.product_description}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"number",name:"product_price",required:!0,placeholder:"$",step:"any",value:c.product_price,onChange:n,className:"prod-i"})}),Object(l.jsx)("td",{children:Object(l.jsx)("input",{type:"number",name:"product_quantity",min:"1",max:"500",required:!0,value:c.product_quantity,onChange:n,className:"prod-q"})}),Object(l.jsxs)("td",{children:[Object(l.jsx)("button",{children:Object(l.jsx)(q.a,{})}),Object(l.jsx)("button",{onClick:r,children:Object(l.jsx)(E.a,{})})]})]},t.id)},B=function(e){var t=e.products,c=e.handleDelProd,r=e.setProducts,a=Object(n.useState)(null),s=Object(d.a)(a,2),o=s[0],j=s[1],u=Object(n.useState)({product_price:"",product_quantity:""}),b=Object(d.a)(u,2),h=b[0],m=b[1],O=function(e,t){e.preventDefault(),j(t)},p=function(e){m(Object(i.a)(Object(i.a)({},h),{},Object(D.a)({},e.target.name,e.target.value)))},x=function(){j(null)};return Object(l.jsx)("div",{className:"render-products-container",children:Object(l.jsx)("form",{onSubmit:function(e){e.preventDefault(),console.log(o),fetch("/products/".concat(o),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_price:h.product_price,product_quantity:h.product_quantity})}).then((function(e){return e.json()})).then((function(e){var c=t.map((function(t){return t.id===e.id?e:t}));r(c)})),m({product_price:"",product_quantity:""}),j(null)},children:Object(l.jsxs)("table",{className:"render-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Id"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Description"}),Object(l.jsx)("th",{children:"Price"}),Object(l.jsx)("th",{children:"Quantity"}),Object(l.jsx)("th",{children:"Edit/Del"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(n.Fragment,{children:o===e.id?Object(l.jsx)(Q,{prod:e,newValues:h,handleChange:p,handleGoBack:x}):Object(l.jsx)(J,{prod:e,handleDelProd:c,handleEditProd:O})})}))})]})})})},$=function(e){var t=e.products,c=e.handleDelProd,r=e.category,a=e.submitProduct,s=e.setProducts,o=Object(n.useState)(""),j=Object(d.a)(o,2),u=j[0],b=j[1],h=Object(n.useState)({product_name:"",product_description:"",product_price:"",product_quantity:"",category_id:""}),m=Object(d.a)(h,2),O=m[0],p=m[1],x=Object(n.useState)([]),f=Object(d.a)(x,2),v=f[0],g=f[1],N=function(e){p(Object(i.a)(Object(i.a)({},O),{},Object(D.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)("div",{className:"product-container",children:[Object(l.jsx)("div",{className:"product-form-container",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(O),p({product_name:"",product_description:"",product_price:"",product_quantity:"",category_id:""}),b("")},className:"add-product-form",children:[Object(l.jsxs)("label",{className:"product-custom-field",children:[Object(l.jsx)("input",{type:"text",name:"product_name",autoComplete:"off",required:!0,className:"product-name",value:O.product_name,onChange:N}),Object(l.jsx)("span",{className:"product-placeholder",children:"Product"})]}),Object(l.jsxs)("div",{className:"product-price-container",children:[Object(l.jsxs)("label",{className:"product-custom-field",children:[Object(l.jsx)("h6",{children:"Price"}),Object(l.jsx)("input",{type:"number",name:"product_price",autoComplete:"off",required:!0,className:"price",step:"any",placeholder:"$",value:O.product_price,onChange:N})]}),Object(l.jsxs)("label",{className:"product-custom-field",children:[Object(l.jsx)("h6",{children:"Quantity"}),Object(l.jsx)("input",{type:"number",className:"product-quantity",name:"product_quantity",autoComplete:"off",required:!0,min:"1",max:"500",value:O.product_quantity,onChange:N})]})]}),Object(l.jsx)("div",{className:"product-category-container",children:Object(l.jsxs)("label",{className:"product-custom-field",children:[Object(l.jsx)("h6",{children:"Pick Category"}),Object(l.jsx)("input",{onChange:function(e){return function(e){var t=[];e.length>0&&(t=r.filter((function(t){var c=new RegExp("".concat(e),"gi");return t.category_name.match(c)}))),g(t),b(e)}(e.target.value)},name:"text",type:"text",autoComplete:"off",value:u,placeholder:"Search...",className:"addCategory"}),v&&v.map((function(e){return Object(l.jsx)("div",{className:"suggestion",onClick:function(){return function(e){b(e);var t=r.find((function(t){return t.category_name===e})).id;p(Object(i.a)(Object(i.a)({},O),{},{category_id:t})),g([])}(e.category_name)},children:Object(l.jsx)("p",{children:e.category_name})},e.id)}))]})}),Object(l.jsxs)("div",{className:"product-des-custom-field",children:[Object(l.jsx)("textarea",{type:"text-area",className:"product-description",name:"product_description",autoComplete:"off",required:!0,rows:"4",cols:"50",value:O.product_description,onChange:N}),Object(l.jsx)("span",{className:"product-des-placeholder",children:"Description"})]}),Object(l.jsx)("button",{children:"Add Product"})]})}),Object(l.jsx)("div",{className:"render-product",children:Object(l.jsx)(B,{products:t,handleDelProd:c,setProducts:s})})]})};var H=function(e){var t=e.orders,c=e.customerInfo,n=e.handleOrderCancel,r=e.handleFinalize,a=c.customerId,s=t.reduce((function(e,t){return e+parseFloat(t.order_total)}),0);return console.log(s),Object(l.jsxs)("div",{className:"render-orders-container",children:[Object(l.jsx)("div",{className:"orders-table-container",children:Object(l.jsxs)("table",{className:"render-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"customer id"}),Object(l.jsx)("th",{children:"Product"}),Object(l.jsx)("th",{children:"Product Price"}),Object(l.jsx)("th",{children:"Product Quantity"}),Object(l.jsx)("th",{children:"Total"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return e.customer_id===a?Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.customer_id}),Object(l.jsx)("td",{children:e.product_name}),Object(l.jsxs)("td",{children:["$ ",e.product_price]}),Object(l.jsx)("td",{children:e.order_quantity}),Object(l.jsxs)("td",{children:["$ ",e.order_total]})]},e.id):null}))})]})}),Object(l.jsxs)("div",{className:"invoice-button-container",children:["                      ",Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){return r(a,s)},children:"Finalize"}),Object(l.jsx)("button",{onClick:function(){return n(a)},children:"Cancel Invoice"})]}),Object(l.jsxs)("div",{className:"total-render",children:["$",s.toFixed(2)]})]})]})},R=function(e){var t=e.customers,c=e.products,r=e.orders,a=e.submitOrder,s=e.handleOrderCancel,o=e.handleFinalize,j=e.submitInv,u=e.invoice,b=e.userId,h=Object(n.useState)(!0),m=Object(d.a)(h,2),O=m[0],p=m[1],x=Object(n.useState)([]),f=Object(d.a)(x,2),v=f[0],g=f[1],N=Object(n.useState)({customerId:"",customerName:"",customerContact:"",customerAddress:""}),y=Object(d.a)(N,2),_=y[0],C=y[1],S=Object(n.useState)([]),P=Object(d.a)(S,2),w=P[0],q=P[1],E=Object(n.useState)({productId:"",productName:"",productPrice:"",productQuantity:""}),T=Object(d.a)(E,2),L=T[0],k=T[1],I=Object(n.useState)(0),F=Object(d.a)(I,2),A=F[0],z=F[1],J=Object(n.useState)({customer_id:"",product_id:"",product_name:"",order_quantity:"",product_price:"",order_total:""}),Q=Object(d.a)(J,2),B=Q[0],$=Q[1],R=Object(n.useState)({customer_id:"",user_id:b,invoice_num:Math.floor(1e5+9e6*Math.random()),organization_name:"123Company"}),U=Object(d.a)(R,2),M=U[0],V=U[1];return Object(l.jsxs)("div",{className:"orders-container",children:[Object(l.jsxs)("div",{className:"orders-form-container",children:[Object(l.jsx)("div",{className:"invoice-number-form",children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(M),j(M),p(!1)},className:"create-invoice-form",children:[O?Object(l.jsxs)("label",{className:"invoice-custom-field",children:[Object(l.jsx)("input",{type:"text",autoComplete:"off",required:!0,onChange:function(e){return function(e){var c=[];e.length>0&&(c=t.filter((function(t){var c=new RegExp("".concat(e),"gi");return t.customer_name.match(c)}))),g(c),C({customerName:e})}(e.target.value)},name:"customer-name",value:_.customerName}),Object(l.jsx)("span",{className:"customer-invoice-placeholder",children:"Customer Name"})]}):Object(l.jsx)("div",{className:"customer-invoice-info",children:_.customerName}),v&&v.map((function(e){return Object(l.jsx)("div",{className:"suggestions",onClick:function(){return C({customerId:(t=e).id,customerName:t.customer_name,customerContact:t.customer_contact,customerAddress:t.customer_address}),V(Object(i.a)(Object(i.a)({},M),{},{customer_id:t.id})),$(Object(i.a)(Object(i.a)({},B),{},{customer_id:t.id})),void g([]);var t},children:Object(l.jsx)("p",{children:e.customer_name})},e.id)})),O?Object(l.jsx)("button",{children:"Create Invoice"}):Object(l.jsx)("button",{onClick:function(){console.log(M.invoice_num);var e=u.find((function(e){return e.invoice_num===M.invoice_num})).id;fetch("invoices/".concat(e),{method:"DELETE"}),C({customer_id:""}),p(!0)},children:"Cancel"})]})}),Object(l.jsx)("div",{className:"invoice-product-form-container",children:Object(l.jsxs)("form",{className:"add-orders-form",onSubmit:function(e){e.preventDefault();var t=parseInt(M.invoice_num),c=u.find((function(e){return e.invoice_num===t})).id,n=L.productQuantity;a(B,n,c),k({productName:"",productPrice:"",productQuantity:""}),$({customer_id:_.customerId,product_id:"",product_name:"",order_quantity:"",product_price:"",order_total:""}),z(0)},children:[Object(l.jsxs)("label",{className:"order-product-custom-field",children:[Object(l.jsx)("input",{type:"text",className:"order-name-input",required:!0,onChange:function(e){return function(e){var t=[];e.length>0&&(t=c.filter((function(t){var c=new RegExp("".concat(e),"gi");return t.product_name.match(c)}))),q(t),k({productName:e})}(e.target.value)},value:L.productName}),Object(l.jsx)("span",{className:"order-product-placeholder",children:"Product Name"})]}),w&&w.map((function(e){return Object(l.jsx)("div",{className:"suggestions",onClick:function(){return k({productId:(t=e).id,productName:t.product_name,productPrice:t.product_price,productQuantity:t.product_quantity}),$(Object(i.a)(Object(i.a)({},B),{},{product_id:t.id,product_name:t.product_name,product_price:t.product_price,order_total:A})),void q([]);var t},children:Object(l.jsx)("p",{children:e.product_name})},e.id)})),L.productPrice?Object(l.jsxs)("div",{className:"order-price-container",children:[" $ ",L.productPrice]}):null,Object(l.jsx)("div",{className:"order-quantity-container",children:Object(l.jsx)("div",{children:L.productName?Object(l.jsx)("h6",{children:"Quantity"})&&Object(l.jsx)("input",{type:"number",name:"order_quantity",autoComplete:"off",required:!0,min:"1",max:L.productQuantity,value:B.order_quantity,onChange:function(e){var t;$(Object(i.a)(Object(i.a)({},B),{},(t={},Object(D.a)(t,e.target.name,e.target.value),Object(D.a)(t,"order_total",parseFloat(L.productPrice)*parseFloat(e.target.value)),t))),z((function(){return(parseFloat(L.productPrice)*parseFloat(e.target.value)).toFixed(2)}))}}):null})}),Object(l.jsxs)("div",{className:"total-container",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h6",{children:"Av. Quan"}),Object(l.jsx)("div",{className:"order-available-quan",children:L.productQuantity?L.productQuantity-B.order_quantity:0})]}),Object(l.jsxs)("div",{className:"available-container",children:[Object(l.jsx)("h6",{children:"Total"}),Object(l.jsxs)("div",{className:"total-total",children:["$ ",A||0]})]})]}),Object(l.jsxs)("div",{className:"form-btn-container",children:[Object(l.jsx)("button",{children:"Add to Order"}),Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),k({productId:"",productName:"",productPrice:"",productQuantity:""}),$({customer_id:_.customerId,product_id:"",product_name:"",order_quantity:"",product_price:"",order_total:""}),z(0)},children:"Clear Form"})]})]})})]}),Object(l.jsx)("div",{className:"render-orders",children:Object(l.jsx)(H,{orders:r,customerInfo:_,handleOrderCancel:s,handleFinalize:o})})]})},U=function(e){var t=e.onLogin,c=Object(n.useState)([]),r=Object(d.a)(c,2),a=r[0],s=r[1],o=Object(n.useState)({username:"",password:""}),j=Object(d.a)(o,2),u=j[0],b=j[1],h=Object(n.useState)(!1),m=Object(d.a)(h,2),O=m[0],p=m[1],x=function(e){b(Object(i.a)(Object(i.a)({},u),{},Object(D.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){p(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return s(e.error)}))}))},children:[Object(l.jsx)("h2",{children:"LOGIN"}),Object(l.jsx)("input",{className:"input-box",placeholder:"Your Username",type:"text",id:"username",name:"username",autoComplete:"off",value:u.username,onChange:x}),Object(l.jsx)("input",{className:"input-box",placeholder:"Password",type:"password",id:"password",name:"password",autoComplete:"current-password",value:u.password,onChange:x}),Object(l.jsx)("button",{className:"login-btn",type:"submit",children:O?"Loading....":"Login"}),Object(l.jsx)("span",{className:"err-container",children:a})]})},M=function(e){var t=e.onLogin,c=Object(n.useState)({username:"",organization_name:"",password:"",password_confirmation:""}),r=Object(d.a)(c,2),a=r[0],s=r[1],o=Object(n.useState)(!1),j=Object(d.a)(o,2),u=j[0],b=j[1],h=Object(n.useState)([]),m=Object(d.a)(h,2),O=m[0],p=m[1],x=function(e){s(Object(i.a)(Object(i.a)({},a),{},Object(D.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p([]),b(!0),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){b(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return p(e.errors)}))}))},children:[Object(l.jsx)("h2",{children:"Sign Up"}),Object(l.jsx)("input",{className:"input-box",placeholder:"Username",type:"text",id:"username",name:"username",autoComplete:"off",value:a.username,onChange:x}),Object(l.jsx)("input",{className:"input-box",placeholder:"Organization Name",type:"text",id:"organization",name:"organization_name",autoComplete:"off",value:a.organization_name,onChange:x}),Object(l.jsx)("input",{className:"input-box",placeholder:"Password",type:"password",id:"password",name:"password",autoComplete:"current-password",value:a.password,onChange:x}),Object(l.jsx)("input",{className:"input-box",placeholder:"Password Confirmation",type:"password",name:"password_confirmation",id:"password_confirmation",autoComplete:"current-password",value:a.password_confirmation,onChange:x}),Object(l.jsx)("button",{type:"submit",className:"signup-btn",children:u?"Loading....":"Sign Up"}),O.map((function(e){return Object(l.jsx)("span",{className:"err-container",children:e},e)}))]})},V=function(e){var t=e.onLogin,c=Object(n.useState)(!0),r=Object(d.a)(c,2),a=r[0],s=r[1];return Object(l.jsxs)("div",{className:"login-container",children:[Object(l.jsx)("h2",{className:"login-header",children:"STOREINVO"}),Object(l.jsx)("div",{className:"svg-2",children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:Object(l.jsx)("path",{fill:"#6433c6e8",fillOpacity:"1",d:"M0,192L48,170.7C96,149,192,107,288,80C384,53,480,43,576,42.7C672,43,768,53,864,69.3C960,85,1056,107,1152,106.7C1248,107,1344,85,1392,74.7L1440,64L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"})})}),Object(l.jsxs)("div",{className:"auth-container",children:[Object(l.jsx)("div",{className:"auth-card",children:Object(l.jsx)("div",{className:"inner-card",children:a?Object(l.jsxs)("div",{className:"card-front",children:[Object(l.jsx)(U,{onLogin:t}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){s(!1)},children:"Register Here"})})]}):Object(l.jsxs)("div",{className:"card-back",children:[Object(l.jsx)(M,{onLogin:t}),Object(l.jsx)("div",{"btn-class":!0,children:Object(l.jsx)("button",{onClick:function(){s(!0)},children:"Log In"})})]})})}),Object(l.jsx)("div",{className:"svg-1",children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:Object(l.jsx)("path",{fill:"#6433c6e8",fillOpacity:"1",d:"M0,64L48,58.7C96,53,192,43,288,85.3C384,128,480,224,576,245.3C672,267,768,213,864,181.3C960,149,1056,139,1152,117.3C1248,96,1344,64,1392,48L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]})]})},Z=function(e){var t=e.filterData.map((function(e){var t=Object(g.a)(e.created_at).toLocaleDateString();return Object(l.jsxs)("div",{className:"pdf-container",children:[Object(l.jsxs)("div",{className:"detail-container",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Store:"}),Object(l.jsx)("span",{children:"From"}),Object(l.jsx)("h2",{children:e.organization_name}),Object(l.jsx)("p",{children:"email.com"})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Customer:"}),Object(l.jsx)("span",{children:"To"}),Object(l.jsx)("h2",{children:e.customer.customer_name}),Object(l.jsx)("p",{children:e.customer.customer_address}),Object(l.jsx)("h5",{children:e.customer.customer_contact})]})]}),Object(l.jsxs)("div",{className:"inv-detail-container",children:[Object(l.jsxs)("div",{children:["Invoice No: ",Object(l.jsx)("span",{children:e.invoice_num})]}),Object(l.jsxs)("div",{children:["Date: ",Object(l.jsx)("span",{children:t})]})]}),Object(l.jsx)("div",{className:"inv-table-container",children:Object(l.jsxs)("table",{className:"inv-table",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Product Name"}),Object(l.jsx)("th",{children:"Product Quantity"}),Object(l.jsx)("th",{children:"Product Price"}),Object(l.jsx)("th",{children:"Total"})]})}),Object(l.jsx)("tbody",{children:e.orderdups.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.product_name}),Object(l.jsx)("td",{children:e.order_quantity}),Object(l.jsx)("td",{children:e.product_price}),Object(l.jsxs)("td",{children:["$ ",e.order_total]})]},e.id)}))})]})}),Object(l.jsx)("div",{className:"inv-tot-table-container",children:Object(l.jsxs)("table",{className:"inv-table-total",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object(l.jsx)("th",{children:"Invoice Summary"})})}),Object(l.jsx)("tbody",{children:Object(l.jsx)("tr",{children:Object(l.jsxs)("td",{children:["Total: $",e.grand_total]})})})]})})]},e.id)}));return Object(l.jsxs)("div",{className:"render-pdf-container",children:[t,Object(l.jsx)("div",{className:"print",children:Object(l.jsx)("button",{onClick:function(){return window.print()},children:"Print"})})]})},G=c(37),W=(c(65),function(e){var t=e.userId,c=Object(n.useState)([]),r=Object(d.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)([]),o=Object(d.a)(i,2),j=o[0],u=o[1],b=Object(n.useState)(a),h=Object(d.a)(b,2),m=h[0],O=h[1];Object(n.useEffect)((function(){fetch("/invoices").then((function(e){return e.json()})).then((function(e){var c=e.filter((function(e){return!0===e.complete&&e.user_id===t}));s(c)}))}),[t]);return Object(l.jsxs)("div",{className:"transactions-container",children:[Object(l.jsxs)("div",{className:"render-transactions-container",children:[Object(l.jsx)("div",{className:"search-transactions",children:Object(l.jsx)(G.a,{onChange:function(e){var t=a.filter((function(t){return Object(g.a)(t.created_at).toLocaleDateString()===e.toLocaleDateString()}));console.log(e.toLocaleDateString()),O(t)}})}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{autoComplete:"off",className:"search-transactions",type:"search",onChange:function(e){if(e.target.value){var t=m.filter((function(t){return t.customer.customer_name.toLowerCase().includes(e.target.value.toLowerCase())}));O(t)}else O(a)},placeholder:"Search.."})}),Object(l.jsx)("div",{className:"transactions",children:Object(l.jsx)("ul",{children:m.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsxs)("span",{children:[" ",Object(l.jsx)(p.a,{className:"r-icon"}),e.invoice_num," "]}),Object(l.jsx)("span",{children:e.customer.customer_name}),Object(l.jsx)("button",{onClick:function(){return function(e){var t=m.filter((function(t){return t.id===e}));u(t)}(e.id)},children:"View"})]},e.id)}))})})]}),Object(l.jsx)("div",{className:"render-pdf",children:Object(l.jsx)(Z,{filterData:j})})]})});var Y=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(!0),s=Object(d.a)(a,2),u=s[0],h=s[1],m=Object(n.useState)([]),O=Object(d.a)(m,2),p=O[0],f=O[1],v=Object(n.useState)([]),g=Object(d.a)(v,2),N=g[0],y=g[1],_=Object(n.useState)([]),C=Object(d.a)(_,2),S=C[0],D=C[1],w=Object(n.useState)([]),q=Object(d.a)(w,2),E=q[0],T=q[1],L=Object(n.useState)([]),I=Object(d.a)(L,2),F=I[0],A=I[1],J=Object(n.useState)([]),Q=Object(d.a)(J,2),B=Q[0],H=Q[1],U=Object(n.useState)([]),M=Object(d.a)(U,2),Z=M[0],G=M[1],Y=Object(n.useState)(0),K=Object(d.a)(Y,2),X=K[0],ee=K[1],te=Object(n.useState)(0),ce=Object(d.a)(te,2),ne=ce[0],re=ce[1];return Object(n.useEffect)((function(){fetch("/me",{}).then((function(e){e.ok&&e.json().then((function(e){r(e),f(e.categories),y(e.products),D(e.customers),T(e.orders),A(e.orderdups),H(e.invoices);var t=e.products.reduce((function(e,t){return e+t.product_quantity}),0);ee(t),re(e.customers.length)}))}))}),[]),Object(n.useEffect)((function(){var e=N.reduce((function(e,t){return e+t.product_quantity}),0);ee(e)}),[N]),c?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"grid-container",children:[Object(l.jsx)(b,{setShowBar:h,setUser:r}),Object(l.jsx)(x,{showbar:u}),Object(l.jsx)("main",{style:u?{marginLeft:"250px"}:{marginLeft:"60px"},children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{path:"/",exact:!0,children:Object(l.jsx)(P,{totalProd:X,totalCustomers:ne,userId:c.id})}),Object(l.jsx)(j.a,{path:"/category",children:Object(l.jsx)(k,{category:p,userId:c.id,submitCategory:function(e){fetch("/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){f([].concat(Object(o.a)(p),[e]))}))},handleDelCategory:function(e){fetch("categories/".concat(e),{method:"DELETE"}).then((function(){var t=p.filter((function(t){return t.id!==e}));f(t)}))},setCategory:f})}),Object(l.jsx)(j.a,{path:"/products",children:Object(l.jsx)($,{products:N,handleDelProd:function(e){fetch("products/".concat(e),{method:"DELETE"}).then((function(){var t=N.filter((function(t){return t.id!==e}));y(t)}))},category:p,submitProduct:function(e){fetch("/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){y([].concat(Object(o.a)(N),[e]))}))},setProducts:y})}),Object(l.jsx)(j.a,{path:"/customers",children:Object(l.jsx)(z,{customers:S,submitCustomer:function(e){fetch("/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){D([].concat(Object(o.a)(S),[e]))})),re(S.length)},setCustomers:D,userId:c.id,handleDelcust:function(e){fetch("customers/".concat(e),{method:"DELETE"}).then((function(){var t=S.filter((function(t){return t.id!==e}));D(t)}))}})}),Object(l.jsx)(j.a,{path:"/orders",children:Object(l.jsx)(R,{customers:S,products:N,orders:E,submitOrder:function(e,t,c){var n=e.product_id,r=e.order_quantity;fetch("/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){T([].concat(Object(o.a)(E),[e]))})),G(c),fetch("/orderdups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(i.a)(Object(i.a)({},e),{},{complete:!1,invoice_id:c}))}).then((function(e){return e.json()})).then((function(e){A([].concat(Object(o.a)(F),[e]))})),fetch("products/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({product_quantity:t-r})}).then((function(e){return e.json()})).then((function(e){var t=N.map((function(t){return t.id===e.id?e:t}));y(t)}))},handleOrderCancel:function(e){fetch("ordersAll/".concat(e),{method:"DELETE"}).then((function(){var t=E.filter((function(t){return t.customer_id!==e}));T(t)}))},handleFinalize:function(e,t){console.log(e,t),Z&&fetch("/invoices/".concat(Z),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({grand_total:t,complete:!0})}).then((function(e){return e.json()})).then((function(e){var t=B.map((function(t){return t.id===e.id?e:t}));H(t)})),fetch("/invoiceFalse",{method:"DELETE"}).then((function(){var t=B.filter((function(t){return t.customer_id!==e}));H(t)})),fetch("ordersFinal/".concat(e),{method:"DELETE"}).then((function(){var t=E.filter((function(t){return t.customer_id!==e}));T(t)})),G([])},submitInv:function(e){fetch("/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(i.a)(Object(i.a)({},e),{},{complete:!1,organization_name:c.organization_name}))}).then((function(e){return e.json()})).then((function(e){H([].concat(Object(o.a)(B),[e]))}))},invoice:B,userId:c.id})}),Object(l.jsx)(j.a,{path:"/pdf",children:Object(l.jsx)(W,{userId:c.id})})]})})]})}):Object(l.jsx)(V,{onLogin:r})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,68)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))};a.a.render(Object(l.jsx)(s.a,{children:Object(l.jsx)(Y,{})}),document.getElementById("root")),K()}},[[66,1,2]]]);
//# sourceMappingURL=main.4af8a25d.chunk.js.map